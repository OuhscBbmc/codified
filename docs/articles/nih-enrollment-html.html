<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NIH Enrollment Tables in HTML â€¢ codified</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="NIH Enrollment Tables in HTML">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">codified</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/nih-enrollment-html.html">NIH Enrollment Tables in HTML</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/OuhscBbmc/codified">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><script src="nih-enrollment-html_files/kePrint-0.0.1/kePrint.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>NIH Enrollment Tables in HTML</h1>
                        <h4 class="author">Will Beasley and Peter Higgins</h4>
            
            <h4 class="date">2018-09-06</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/OuhscBbmc/codified/blob/master/vignettes/nih-enrollment-html.Rmd"><code>vignettes/nih-enrollment-html.Rmd</code></a></small>
      <div class="hidden name"><code>nih-enrollment-html.Rmd</code></div>

    </div>

    
    
<div id="install-codified-package" class="section level1">
<h1 class="hasAnchor">
<a href="#install-codified-package" class="anchor"></a>Install <code>codified</code> Package</h1>
<p>First, install the <code>codified</code> package if necessary, and then <a href="http://r-pkgs.had.co.nz/package.html#package">load it into memory</a>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="cf">if</span>( <span class="op">!</span><span class="kw">requireNamespace</span>(<span class="st">"codified"</span>, <span class="dt">quietly=</span>T) )</a>
<a class="sourceLine" id="cb1-2" data-line-number="2">  devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="dt">repo=</span> <span class="st">"OuhscBbmc/codified"</span>)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="kw">library</span>(codified)</a></code></pre></div>
</div>
<div id="local-data-source" class="section level1">
<h1 class="hasAnchor">
<a href="#local-data-source" class="anchor"></a>Local Data Source</h1>
<div id="establish-datasets" class="section level2">
<h2 class="hasAnchor">
<a href="#establish-datasets" class="anchor"></a>Establish Datasets</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">library</span>(magrittr)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"></a>
<a class="sourceLine" id="cb2-3" data-line-number="3">path &lt;-<span class="st"> </span><span class="kw">system.file</span>(<span class="st">"misc/example-data-1.csv"</span>, <span class="dt">package=</span><span class="st">"codified"</span>)</a>
<a class="sourceLine" id="cb2-4" data-line-number="4">col_types &lt;-<span class="st"> </span>readr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/readr/topics/cols">cols_only</a></span>(</a>
<a class="sourceLine" id="cb2-5" data-line-number="5">  <span class="dt">record_id =</span> readr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/readr/topics/parse_atomic">col_integer</a></span>(),</a>
<a class="sourceLine" id="cb2-6" data-line-number="6">  <span class="dt">name_last =</span> readr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/readr/topics/parse_atomic">col_character</a></span>(),</a>
<a class="sourceLine" id="cb2-7" data-line-number="7">  <span class="dt">dob       =</span> readr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/readr/topics/parse_datetime">col_date</a></span>(<span class="dt">format =</span> <span class="st">""</span>),</a>
<a class="sourceLine" id="cb2-8" data-line-number="8">  <span class="dt">gender    =</span> readr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/readr/topics/parse_atomic">col_integer</a></span>(),</a>
<a class="sourceLine" id="cb2-9" data-line-number="9">  <span class="dt">race      =</span> readr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/readr/topics/parse_atomic">col_integer</a></span>(),</a>
<a class="sourceLine" id="cb2-10" data-line-number="10">  <span class="dt">ethnicity =</span> readr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/readr/topics/parse_atomic">col_integer</a></span>()</a>
<a class="sourceLine" id="cb2-11" data-line-number="11">)</a>
<a class="sourceLine" id="cb2-12" data-line-number="12">ds &lt;-<span class="st"> </span>readr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/readr/topics/read_delim">read_csv</a></span>(path, <span class="dt">col_types=</span>col_types) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-13" data-line-number="13"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(</a>
<a class="sourceLine" id="cb2-14" data-line-number="14">    <span class="dt">gender     =</span> <span class="kw">as.character</span>(gender),</a>
<a class="sourceLine" id="cb2-15" data-line-number="15">    <span class="dt">race       =</span> <span class="kw">as.character</span>(race),</a>
<a class="sourceLine" id="cb2-16" data-line-number="16">    <span class="dt">ethnicity  =</span> <span class="kw">as.character</span>(ethnicity)</a>
<a class="sourceLine" id="cb2-17" data-line-number="17">  )</a></code></pre></div>
<pre><code>## Warning in read_tokens_(data, tokenizer, col_specs, col_names, locale_, :
## length of NULL cannot be changed

## Warning in read_tokens_(data, tokenizer, col_specs, col_names, locale_, :
## length of NULL cannot be changed

## Warning in read_tokens_(data, tokenizer, col_specs, col_names, locale_, :
## length of NULL cannot be changed

## Warning in read_tokens_(data, tokenizer, col_specs, col_names, locale_, :
## length of NULL cannot be changed

## Warning in read_tokens_(data, tokenizer, col_specs, col_names, locale_, :
## length of NULL cannot be changed

## Warning in read_tokens_(data, tokenizer, col_specs, col_names, locale_, :
## length of NULL cannot be changed

## Warning in read_tokens_(data, tokenizer, col_specs, col_names, locale_, :
## length of NULL cannot be changed

## Warning in read_tokens_(data, tokenizer, col_specs, col_names, locale_, :
## length of NULL cannot be changed

## Warning in read_tokens_(data, tokenizer, col_specs, col_names, locale_, :
## length of NULL cannot be changed

## Warning in read_tokens_(data, tokenizer, col_specs, col_names, locale_, :
## length of NULL cannot be changed

## Warning in read_tokens_(data, tokenizer, col_specs, col_names, locale_, :
## length of NULL cannot be changed

## Warning in read_tokens_(data, tokenizer, col_specs, col_names, locale_, :
## length of NULL cannot be changed</code></pre>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">ds <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="st">  </span><span class="kw">head</span>(<span class="dv">10</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="st">  </span>knitr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/knitr/topics/kable">kable</a></span>(<span class="dt">caption =</span> <span class="st">"Observed Dataset (first ten rows)"</span>)</a></code></pre></div>
<table class="table">
<caption>Observed Dataset (first ten rows)</caption>
<thead><tr class="header">
<th align="right">record_id</th>
<th align="left">name_last</th>
<th align="left">dob</th>
<th align="left">ethnicity</th>
<th align="left">race</th>
<th align="left">gender</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">Cornel</td>
<td align="left">1991-05-13</td>
<td align="left">1</td>
<td align="left">4</td>
<td align="left">0</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">Wojdyla</td>
<td align="left">1931-10-14</td>
<td align="left">1</td>
<td align="left">4</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">Stunkard</td>
<td align="left">1964-09-15</td>
<td align="left">1</td>
<td align="left">3</td>
<td align="left">1</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="left">Cimochowski</td>
<td align="left">1969-05-03</td>
<td align="left">1</td>
<td align="left">4</td>
<td align="left">1</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="left">Woodland</td>
<td align="left">1969-11-22</td>
<td align="left">1</td>
<td align="left">4</td>
<td align="left">0</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="left">Pistoia</td>
<td align="left">1943-08-26</td>
<td align="left">1</td>
<td align="left">4</td>
<td align="left">1</td>
</tr>
<tr class="odd">
<td align="right">7</td>
<td align="left">Ahlquist</td>
<td align="left">1944-01-22</td>
<td align="left">1</td>
<td align="left">4</td>
<td align="left">0</td>
</tr>
<tr class="even">
<td align="right">8</td>
<td align="left">Ashlin</td>
<td align="left">1931-04-14</td>
<td align="left">1</td>
<td align="left">4</td>
<td align="left">1</td>
</tr>
<tr class="odd">
<td align="right">9</td>
<td align="left">Djokovic</td>
<td align="left">1962-07-07</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">1</td>
</tr>
<tr class="even">
<td align="right">10</td>
<td align="left">Mosses</td>
<td align="left">1978-06-20</td>
<td align="left">1</td>
<td align="left">3</td>
<td align="left">0</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">ds_lu_gender &lt;-<span class="st"> </span>tibble<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/tibble/topics/tribble">tribble</a></span>(</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">  <span class="op">~</span>input,   <span class="op">~</span>displayed            ,</a>
<a class="sourceLine" id="cb5-3" data-line-number="3">  <span class="st">"0"</span>   ,  <span class="st">"Female"</span>               , </a>
<a class="sourceLine" id="cb5-4" data-line-number="4">  <span class="st">"1"</span>   ,  <span class="st">"Male"</span>                 ,</a>
<a class="sourceLine" id="cb5-5" data-line-number="5">  <span class="st">"U"</span>   ,  <span class="st">"Unknown/Not Reported"</span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6">)</a>
<a class="sourceLine" id="cb5-7" data-line-number="7">knitr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/knitr/topics/kable">kable</a></span>(ds_lu_gender, <span class="dt">caption =</span> <span class="st">"Gender Mapping"</span>)</a></code></pre></div>
<table class="table">
<caption>Gender Mapping</caption>
<thead><tr class="header">
<th align="left">input</th>
<th align="left">displayed</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">0</td>
<td align="left">Female</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="left">Male</td>
</tr>
<tr class="odd">
<td align="left">U</td>
<td align="left">Unknown/Not Reported</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">ds_lu_race &lt;-<span class="st"> </span>tibble<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/tibble/topics/tribble">tribble</a></span>(</a>
<a class="sourceLine" id="cb6-2" data-line-number="2">  <span class="op">~</span>input , <span class="op">~</span>displayed                                   ,</a>
<a class="sourceLine" id="cb6-3" data-line-number="3">  <span class="st">"1"</span>    , <span class="st">"American Indian/Alaska Native"</span>              ,</a>
<a class="sourceLine" id="cb6-4" data-line-number="4">  <span class="st">"2"</span>    , <span class="st">"Asian"</span>                                      ,</a>
<a class="sourceLine" id="cb6-5" data-line-number="5">  <span class="st">"3"</span>    , <span class="st">"Native Hawaiian or Other Pacific Islander"</span>  ,</a>
<a class="sourceLine" id="cb6-6" data-line-number="6">  <span class="st">"4"</span>    , <span class="st">"Black or African American"</span>                  ,</a>
<a class="sourceLine" id="cb6-7" data-line-number="7">  <span class="st">"5"</span>    , <span class="st">"White"</span>                                      ,</a>
<a class="sourceLine" id="cb6-8" data-line-number="8">  <span class="st">"M"</span>    , <span class="st">"More than One Race"</span>                         ,</a>
<a class="sourceLine" id="cb6-9" data-line-number="9">  <span class="st">"6"</span>    , <span class="st">"Unknown or Not Reported"</span></a>
<a class="sourceLine" id="cb6-10" data-line-number="10">)</a>
<a class="sourceLine" id="cb6-11" data-line-number="11">knitr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/knitr/topics/kable">kable</a></span>(ds_lu_race, <span class="dt">caption =</span> <span class="st">"Race Mapping"</span>)</a></code></pre></div>
<table class="table">
<caption>Race Mapping</caption>
<thead><tr class="header">
<th align="left">input</th>
<th align="left">displayed</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">1</td>
<td align="left">American Indian/Alaska Native</td>
</tr>
<tr class="even">
<td align="left">2</td>
<td align="left">Asian</td>
</tr>
<tr class="odd">
<td align="left">3</td>
<td align="left">Native Hawaiian or Other Pacific Islander</td>
</tr>
<tr class="even">
<td align="left">4</td>
<td align="left">Black or African American</td>
</tr>
<tr class="odd">
<td align="left">5</td>
<td align="left">White</td>
</tr>
<tr class="even">
<td align="left">M</td>
<td align="left">More than One Race</td>
</tr>
<tr class="odd">
<td align="left">6</td>
<td align="left">Unknown or Not Reported</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">ds_lu_ethnicity &lt;-<span class="st"> </span>tibble<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/tibble/topics/tribble">tribble</a></span>(</a>
<a class="sourceLine" id="cb7-2" data-line-number="2">  <span class="op">~</span>input,   <span class="op">~</span>displayed                      ,</a>
<a class="sourceLine" id="cb7-3" data-line-number="3">  <span class="st">"2"</span>   ,  <span class="st">"Not Hispanic or Latino"</span>         ,</a>
<a class="sourceLine" id="cb7-4" data-line-number="4">  <span class="st">"1"</span>   ,  <span class="st">"Hispanic or Latino"</span>             ,</a>
<a class="sourceLine" id="cb7-5" data-line-number="5">  <span class="st">"0"</span>   ,  <span class="st">"Unknown/Not Reported Ethnicity"</span></a>
<a class="sourceLine" id="cb7-6" data-line-number="6">)</a>
<a class="sourceLine" id="cb7-7" data-line-number="7">knitr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/knitr/topics/kable">kable</a></span>(ds_lu_ethnicity, <span class="dt">caption =</span> <span class="st">"Ethnicity Mapping"</span>)</a></code></pre></div>
<table class="table">
<caption>Ethnicity Mapping</caption>
<thead><tr class="header">
<th align="left">input</th>
<th align="left">displayed</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">2</td>
<td align="left">Not Hispanic or Latino</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="left">Hispanic or Latino</td>
</tr>
<tr class="odd">
<td align="left">0</td>
<td align="left">Unknown/Not Reported Ethnicity</td>
</tr>
</tbody>
</table>
</div>
<div id="apply-map-to-observed-dataset" class="section level2">
<h2 class="hasAnchor">
<a href="#apply-map-to-observed-dataset" class="anchor"></a>Apply Map to Observed Dataset</h2>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">ds_summary_long &lt;-<span class="st"> </span>codified<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/codified/topics/table_nih_enrollment">table_nih_enrollment</a></span>(</a>
<a class="sourceLine" id="cb8-2" data-line-number="2">  <span class="dt">d              =</span> ds,</a>
<a class="sourceLine" id="cb8-3" data-line-number="3">  <span class="dt">d_lu_gender    =</span> ds_lu_gender,</a>
<a class="sourceLine" id="cb8-4" data-line-number="4">  <span class="dt">d_lu_race      =</span> ds_lu_race,</a>
<a class="sourceLine" id="cb8-5" data-line-number="5">  <span class="dt">d_lu_ethnicity =</span> ds_lu_ethnicity</a>
<a class="sourceLine" id="cb8-6" data-line-number="6">)</a>
<a class="sourceLine" id="cb8-7" data-line-number="7"></a>
<a class="sourceLine" id="cb8-8" data-line-number="8">knitr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/knitr/topics/kable">kable</a></span>(ds_summary_long, <span class="dt">caption =</span> <span class="st">"Counts of Each Subgroup"</span>)</a></code></pre></div>
<table class="table">
<caption>Counts of Each Subgroup</caption>
<thead><tr class="header">
<th align="left">gender</th>
<th align="left">race</th>
<th align="left">ethnicity</th>
<th align="right">n</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Female</td>
<td align="left">American Indian/Alaska Native</td>
<td align="left">Not Hispanic or Latino</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Female</td>
<td align="left">American Indian/Alaska Native</td>
<td align="left">Hispanic or Latino</td>
<td align="right">8</td>
</tr>
<tr class="odd">
<td align="left">Female</td>
<td align="left">American Indian/Alaska Native</td>
<td align="left">Unknown/Not Reported Ethnicity</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Female</td>
<td align="left">Asian</td>
<td align="left">Not Hispanic or Latino</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Female</td>
<td align="left">Asian</td>
<td align="left">Hispanic or Latino</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Female</td>
<td align="left">Asian</td>
<td align="left">Unknown/Not Reported Ethnicity</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Female</td>
<td align="left">Native Hawaiian or Other Pacific Islander</td>
<td align="left">Not Hispanic or Latino</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Female</td>
<td align="left">Native Hawaiian or Other Pacific Islander</td>
<td align="left">Hispanic or Latino</td>
<td align="right">28</td>
</tr>
<tr class="odd">
<td align="left">Female</td>
<td align="left">Native Hawaiian or Other Pacific Islander</td>
<td align="left">Unknown/Not Reported Ethnicity</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">Female</td>
<td align="left">Black or African American</td>
<td align="left">Not Hispanic or Latino</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Female</td>
<td align="left">Black or African American</td>
<td align="left">Hispanic or Latino</td>
<td align="right">172</td>
</tr>
<tr class="even">
<td align="left">Female</td>
<td align="left">Black or African American</td>
<td align="left">Unknown/Not Reported Ethnicity</td>
<td align="right">14</td>
</tr>
<tr class="odd">
<td align="left">Female</td>
<td align="left">White</td>
<td align="left">Not Hispanic or Latino</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Female</td>
<td align="left">White</td>
<td align="left">Hispanic or Latino</td>
<td align="right">22</td>
</tr>
<tr class="odd">
<td align="left">Female</td>
<td align="left">White</td>
<td align="left">Unknown/Not Reported Ethnicity</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">Female</td>
<td align="left">More than One Race</td>
<td align="left">Not Hispanic or Latino</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Female</td>
<td align="left">More than One Race</td>
<td align="left">Hispanic or Latino</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Female</td>
<td align="left">More than One Race</td>
<td align="left">Unknown/Not Reported Ethnicity</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Female</td>
<td align="left">Unknown or Not Reported</td>
<td align="left">Not Hispanic or Latino</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Female</td>
<td align="left">Unknown or Not Reported</td>
<td align="left">Hispanic or Latino</td>
<td align="right">7</td>
</tr>
<tr class="odd">
<td align="left">Female</td>
<td align="left">Unknown or Not Reported</td>
<td align="left">Unknown/Not Reported Ethnicity</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Male</td>
<td align="left">American Indian/Alaska Native</td>
<td align="left">Not Hispanic or Latino</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Male</td>
<td align="left">American Indian/Alaska Native</td>
<td align="left">Hispanic or Latino</td>
<td align="right">10</td>
</tr>
<tr class="even">
<td align="left">Male</td>
<td align="left">American Indian/Alaska Native</td>
<td align="left">Unknown/Not Reported Ethnicity</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Male</td>
<td align="left">Asian</td>
<td align="left">Not Hispanic or Latino</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Male</td>
<td align="left">Asian</td>
<td align="left">Hispanic or Latino</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Male</td>
<td align="left">Asian</td>
<td align="left">Unknown/Not Reported Ethnicity</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Male</td>
<td align="left">Native Hawaiian or Other Pacific Islander</td>
<td align="left">Not Hispanic or Latino</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Male</td>
<td align="left">Native Hawaiian or Other Pacific Islander</td>
<td align="left">Hispanic or Latino</td>
<td align="right">22</td>
</tr>
<tr class="even">
<td align="left">Male</td>
<td align="left">Native Hawaiian or Other Pacific Islander</td>
<td align="left">Unknown/Not Reported Ethnicity</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Male</td>
<td align="left">Black or African American</td>
<td align="left">Not Hispanic or Latino</td>
<td align="right">5</td>
</tr>
<tr class="even">
<td align="left">Male</td>
<td align="left">Black or African American</td>
<td align="left">Hispanic or Latino</td>
<td align="right">154</td>
</tr>
<tr class="odd">
<td align="left">Male</td>
<td align="left">Black or African American</td>
<td align="left">Unknown/Not Reported Ethnicity</td>
<td align="right">6</td>
</tr>
<tr class="even">
<td align="left">Male</td>
<td align="left">White</td>
<td align="left">Not Hispanic or Latino</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Male</td>
<td align="left">White</td>
<td align="left">Hispanic or Latino</td>
<td align="right">33</td>
</tr>
<tr class="even">
<td align="left">Male</td>
<td align="left">White</td>
<td align="left">Unknown/Not Reported Ethnicity</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Male</td>
<td align="left">More than One Race</td>
<td align="left">Not Hispanic or Latino</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Male</td>
<td align="left">More than One Race</td>
<td align="left">Hispanic or Latino</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Male</td>
<td align="left">More than One Race</td>
<td align="left">Unknown/Not Reported Ethnicity</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Male</td>
<td align="left">Unknown or Not Reported</td>
<td align="left">Not Hispanic or Latino</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Male</td>
<td align="left">Unknown or Not Reported</td>
<td align="left">Hispanic or Latino</td>
<td align="right">7</td>
</tr>
<tr class="even">
<td align="left">Male</td>
<td align="left">Unknown or Not Reported</td>
<td align="left">Unknown/Not Reported Ethnicity</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Unknown/Not Reported</td>
<td align="left">American Indian/Alaska Native</td>
<td align="left">Not Hispanic or Latino</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Unknown/Not Reported</td>
<td align="left">American Indian/Alaska Native</td>
<td align="left">Hispanic or Latino</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Unknown/Not Reported</td>
<td align="left">American Indian/Alaska Native</td>
<td align="left">Unknown/Not Reported Ethnicity</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Unknown/Not Reported</td>
<td align="left">Asian</td>
<td align="left">Not Hispanic or Latino</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Unknown/Not Reported</td>
<td align="left">Asian</td>
<td align="left">Hispanic or Latino</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Unknown/Not Reported</td>
<td align="left">Asian</td>
<td align="left">Unknown/Not Reported Ethnicity</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Unknown/Not Reported</td>
<td align="left">Native Hawaiian or Other Pacific Islander</td>
<td align="left">Not Hispanic or Latino</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Unknown/Not Reported</td>
<td align="left">Native Hawaiian or Other Pacific Islander</td>
<td align="left">Hispanic or Latino</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Unknown/Not Reported</td>
<td align="left">Native Hawaiian or Other Pacific Islander</td>
<td align="left">Unknown/Not Reported Ethnicity</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Unknown/Not Reported</td>
<td align="left">Black or African American</td>
<td align="left">Not Hispanic or Latino</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Unknown/Not Reported</td>
<td align="left">Black or African American</td>
<td align="left">Hispanic or Latino</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Unknown/Not Reported</td>
<td align="left">Black or African American</td>
<td align="left">Unknown/Not Reported Ethnicity</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Unknown/Not Reported</td>
<td align="left">White</td>
<td align="left">Not Hispanic or Latino</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Unknown/Not Reported</td>
<td align="left">White</td>
<td align="left">Hispanic or Latino</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Unknown/Not Reported</td>
<td align="left">White</td>
<td align="left">Unknown/Not Reported Ethnicity</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Unknown/Not Reported</td>
<td align="left">More than One Race</td>
<td align="left">Not Hispanic or Latino</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Unknown/Not Reported</td>
<td align="left">More than One Race</td>
<td align="left">Hispanic or Latino</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Unknown/Not Reported</td>
<td align="left">More than One Race</td>
<td align="left">Unknown/Not Reported Ethnicity</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Unknown/Not Reported</td>
<td align="left">Unknown or Not Reported</td>
<td align="left">Not Hispanic or Latino</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Unknown/Not Reported</td>
<td align="left">Unknown or Not Reported</td>
<td align="left">Hispanic or Latino</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Unknown/Not Reported</td>
<td align="left">Unknown or Not Reported</td>
<td align="left">Unknown/Not Reported Ethnicity</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
</div>
<div id="conform-to-nih-cosmetics" class="section level2">
<h2 class="hasAnchor">
<a href="#conform-to-nih-cosmetics" class="anchor"></a>Conform to NIH Cosmetics</h2>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">codified<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/codified/topics/table_nih_enrollment">table_nih_enrollment_pretty</a></span>(</a>
<a class="sourceLine" id="cb9-2" data-line-number="2">  <span class="dt">d              =</span> ds,</a>
<a class="sourceLine" id="cb9-3" data-line-number="3">  <span class="dt">d_lu_gender    =</span> ds_lu_gender,</a>
<a class="sourceLine" id="cb9-4" data-line-number="4">  <span class="dt">d_lu_race      =</span> ds_lu_race,</a>
<a class="sourceLine" id="cb9-5" data-line-number="5">  <span class="dt">d_lu_ethnicity =</span> ds_lu_ethnicity</a>
<a class="sourceLine" id="cb9-6" data-line-number="6">)</a></code></pre></div>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="border-bottom:hidden" colspan="1">
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="9">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px;">
Ethnic Categories
</div>
</th>
</tr>
<tr>
<th style="border-bottom:hidden" colspan="1">
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="3">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px;">
Not Hispanic or Latino
</div>
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="3">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px;">
Hispanic or Latino
</div>
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="3">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px;">
Unknown/Not Reported Ethnicity
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
Racial Categories
</th>
<th style="text-align:right;">
Female
</th>
<th style="text-align:right;">
Male
</th>
<th style="text-align:right;">
Unknown/<br>Not Reported
</th>
<th style="text-align:right;">
Female
</th>
<th style="text-align:right;">
Male
</th>
<th style="text-align:right;">
Unknown/<br>Not Reported
</th>
<th style="text-align:right;">
Female
</th>
<th style="text-align:right;">
Male
</th>
<th style="text-align:right;">
Unknown/<br>Not Reported
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;border-right:1px solid;">
American Indian/Alaska Native
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;">
Asian
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;">
Native Hawaiian or Other Pacific Islander
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
28
</td>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;">
Black or African American
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
172
</td>
<td style="text-align:right;">
154
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;">
White
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
33
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;">
More than One Race
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;">
Unknown or Not Reported
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="redcap-data-source" class="section level1">
<h1 class="hasAnchor">
<a href="#redcap-data-source" class="anchor"></a>REDCap Data Source</h1>
<p>A hosted (fake) clinical trial dataset demonstrates how to extract demographic data from <a href="https://projectredcap.org/">REDCap</a> and then present the demographic data in the NIH Inclusion Enrollment Report format.</p>
<div id="establish-datasets-1" class="section level2">
<h2 class="hasAnchor">
<a href="#establish-datasets-1" class="anchor"></a>Establish Datasets</h2>
<p>First, install the <code>REDCapR</code> package if necessary, and then <a href="http://r-pkgs.had.co.nz/package.html#package">load it into memory</a>.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="cf">if</span>( <span class="op">!</span><span class="kw">requireNamespace</span>(<span class="st">"REDCapR"</span>, <span class="dt">quietly=</span>T) )</a>
<a class="sourceLine" id="cb10-2" data-line-number="2">  devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"OuhscBbmc/REDCapR"</span>)</a>
<a class="sourceLine" id="cb10-3" data-line-number="3"></a>
<a class="sourceLine" id="cb10-4" data-line-number="4"><span class="kw">library</span>(REDCapR)</a></code></pre></div>
<p>Next, download the data from the REDCap database into the <code>ds_2</code> data.frame.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="cf">if</span>( <span class="st">"0.9.8"</span> <span class="op">&lt;</span><span class="st"> </span><span class="kw">packageVersion</span>(<span class="st">"REDCapR"</span>) ) {</a>
<a class="sourceLine" id="cb11-2" data-line-number="2">  ds_<span class="dv">2</span> &lt;-<span class="st"> </span>REDCapR<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/REDCapR/topics/redcap_read_oneshot">redcap_read_oneshot</a></span>(</a>
<a class="sourceLine" id="cb11-3" data-line-number="3">    <span class="dt">redcap_uri =</span> <span class="st">"https://bbmc.ouhsc.edu/redcap/api/"</span>,  <span class="co"># URL of REDCap Server.</span></a>
<a class="sourceLine" id="cb11-4" data-line-number="4">    <span class="dt">token      =</span> <span class="st">"F304DEC3793FECC3B6DEEFF66302CAD3"</span>,    <span class="co"># User-speciifc token/password.</span></a>
<a class="sourceLine" id="cb11-5" data-line-number="5">    <span class="dt">guess_type =</span> <span class="ot">FALSE</span>                                  <span class="co"># Keep all variables as strings/characters.</span></a>
<a class="sourceLine" id="cb11-6" data-line-number="6">  )<span class="op">$</span>data  </a>
<a class="sourceLine" id="cb11-7" data-line-number="7">} <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb11-8" data-line-number="8">  <span class="co"># Older versions of REDCapR don't have the `guess_type` parameter</span></a>
<a class="sourceLine" id="cb11-9" data-line-number="9">  ds_<span class="dv">2</span> &lt;-<span class="st"> </span>REDCapR<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/REDCapR/topics/redcap_read_oneshot">redcap_read_oneshot</a></span>(</a>
<a class="sourceLine" id="cb11-10" data-line-number="10">    <span class="dt">redcap_uri =</span> <span class="st">"https://bbmc.ouhsc.edu/redcap/api/"</span>,  <span class="co"># URL of REDCap Server.</span></a>
<a class="sourceLine" id="cb11-11" data-line-number="11">    <span class="dt">token      =</span> <span class="st">"F304DEC3793FECC3B6DEEFF66302CAD3"</span>     <span class="co"># User-speciifc token/password.</span></a>
<a class="sourceLine" id="cb11-12" data-line-number="12">  )<span class="op">$</span>data</a>
<a class="sourceLine" id="cb11-13" data-line-number="13">}</a></code></pre></div>
<pre><code>## 500 records and 13 columns were read from REDCap in 0.6 seconds.  The http status code was 200.</code></pre>
</div>
<div id="conform-to-nih-cosmetics-1" class="section level2">
<h2 class="hasAnchor">
<a href="#conform-to-nih-cosmetics-1" class="anchor"></a>Conform to NIH Cosmetics</h2>
<p>Now, convert these demographic data into a properly formatted NIH enrollment table. Pass the <code>ds_lu_gender</code>, <code>ds_lu_race</code>, and <code>ds_lu_ethnicity</code> metadata, which was defined above. As a reminder, these translate values like <code>1</code> to <code>Male</code> and <code>3</code> to <code>Native Hawaiian or Other Pacific Islander</code>.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="kw"><a href="../reference/table_nih_enrollment.html">table_nih_enrollment_pretty</a></span>(</a>
<a class="sourceLine" id="cb13-2" data-line-number="2">  <span class="dt">d               =</span> ds_<span class="dv">2</span>,</a>
<a class="sourceLine" id="cb13-3" data-line-number="3">  <span class="dt">d_lu_gender     =</span> ds_lu_gender,</a>
<a class="sourceLine" id="cb13-4" data-line-number="4">  <span class="dt">d_lu_race       =</span> ds_lu_race,</a>
<a class="sourceLine" id="cb13-5" data-line-number="5">  <span class="dt">d_lu_ethnicity  =</span> ds_lu_ethnicity</a>
<a class="sourceLine" id="cb13-6" data-line-number="6">)</a></code></pre></div>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="border-bottom:hidden" colspan="1">
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="9">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px;">
Ethnic Categories
</div>
</th>
</tr>
<tr>
<th style="border-bottom:hidden" colspan="1">
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="3">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px;">
Not Hispanic or Latino
</div>
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="3">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px;">
Hispanic or Latino
</div>
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="3">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px;">
Unknown/Not Reported Ethnicity
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
Racial Categories
</th>
<th style="text-align:right;">
Female
</th>
<th style="text-align:right;">
Male
</th>
<th style="text-align:right;">
Unknown/<br>Not Reported
</th>
<th style="text-align:right;">
Female
</th>
<th style="text-align:right;">
Male
</th>
<th style="text-align:right;">
Unknown/<br>Not Reported
</th>
<th style="text-align:right;">
Female
</th>
<th style="text-align:right;">
Male
</th>
<th style="text-align:right;">
Unknown/<br>Not Reported
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;border-right:1px solid;">
American Indian/Alaska Native
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;">
Asian
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;">
Native Hawaiian or Other Pacific Islander
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
28
</td>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;">
Black or African American
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
172
</td>
<td style="text-align:right;">
154
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;">
White
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
33
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;">
More than One Race
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;">
Unknown or Not Reported
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="collapsing-levels" class="section level1">
<h1 class="hasAnchor">
<a href="#collapsing-levels" class="anchor"></a>Collapsing Levels</h1>
<p>Many observed datasets may collect race with a different set of levels. For instance in <code>ds_3</code>, the <code>American Indian</code> level is separate from the <code>Alaska Native</code> level. In the first and second rows in the metadata below, the two levels are effectively combined into the<code>American Indian/Alaska Native</code> level, so it complies with the format of the NIH Enrollment table.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">ds_lu_race_<span class="dv">3</span> &lt;-<span class="st"> </span>tibble<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/tibble/topics/tribble">tribble</a></span>(</a>
<a class="sourceLine" id="cb14-2" data-line-number="2">  <span class="op">~</span>input                      , <span class="op">~</span>displayed                                  ,</a>
<a class="sourceLine" id="cb14-3" data-line-number="3">  <span class="st">"American Indian"</span>           , <span class="st">"American Indian/Alaska Native"</span>             , <span class="co"># Combine w/ Alaska Native</span></a>
<a class="sourceLine" id="cb14-4" data-line-number="4">  <span class="st">"Alaska Native"</span>             , <span class="st">"American Indian/Alaska Native"</span>             , <span class="co"># Combine w/ American Indian</span></a>
<a class="sourceLine" id="cb14-5" data-line-number="5">  <span class="st">"Asian"</span>                     , <span class="st">"Asian"</span>                                     ,</a>
<a class="sourceLine" id="cb14-6" data-line-number="6">  <span class="st">"Native Hawaiian"</span>           , <span class="st">"Native Hawaiian or Other Pacific Islander"</span> , <span class="co"># Combine w/ Pacific Islanders</span></a>
<a class="sourceLine" id="cb14-7" data-line-number="7">  <span class="st">"Pacific Islander"</span>          , <span class="st">"Native Hawaiian or Other Pacific Islander"</span> , <span class="co"># Combine w/ Hawaiian</span></a>
<a class="sourceLine" id="cb14-8" data-line-number="8">  <span class="st">"Black or African American"</span> , <span class="st">"Black or African American"</span>                 ,</a>
<a class="sourceLine" id="cb14-9" data-line-number="9">  <span class="st">"White"</span>                     , <span class="st">"White"</span>                                     ,</a>
<a class="sourceLine" id="cb14-10" data-line-number="10">  <span class="st">"More than One Race"</span>        , <span class="st">"More than One Race"</span>                        ,</a>
<a class="sourceLine" id="cb14-11" data-line-number="11">  <span class="st">"Unknown or Not Reported"</span>   , <span class="st">"Unknown or Not Reported"</span></a>
<a class="sourceLine" id="cb14-12" data-line-number="12">)</a>
<a class="sourceLine" id="cb14-13" data-line-number="13"></a>
<a class="sourceLine" id="cb14-14" data-line-number="14">ds_<span class="dv">3</span> &lt;-<span class="st"> </span>tibble<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/tibble/topics/tribble">tribble</a></span>(</a>
<a class="sourceLine" id="cb14-15" data-line-number="15">  <span class="op">~</span>subject_id,   <span class="op">~</span>gender  , <span class="op">~</span>race            ,  <span class="op">~</span>ethnicity                 ,</a>
<a class="sourceLine" id="cb14-16" data-line-number="16">           1L,   <span class="st">"Female"</span> , <span class="st">"American Indian"</span>,  <span class="st">"Not Hispanic or Latino"</span>   ,</a>
<a class="sourceLine" id="cb14-17" data-line-number="17">           2L,   <span class="st">"Male"</span>   , <span class="st">"American Indian"</span>,  <span class="st">"Not Hispanic or Latino"</span>   ,</a>
<a class="sourceLine" id="cb14-18" data-line-number="18">           3L,   <span class="st">"Male"</span>   , <span class="st">"American Indian"</span>,  <span class="st">"Not Hispanic or Latino"</span>   ,</a>
<a class="sourceLine" id="cb14-19" data-line-number="19">           4L,   <span class="st">"Female"</span> , <span class="st">"Alaska Native"</span>  ,  <span class="st">"Not Hispanic or Latino"</span>   ,</a>
<a class="sourceLine" id="cb14-20" data-line-number="20">           5L,   <span class="st">"Male"</span>   , <span class="st">"Alaska Native"</span>  ,  <span class="st">"Not Hispanic or Latino"</span>   ,</a>
<a class="sourceLine" id="cb14-21" data-line-number="21">           6L,   <span class="st">"Male"</span>   , <span class="st">"Alaska Native"</span>  ,  <span class="st">"Not Hispanic or Latino"</span>   ,</a>
<a class="sourceLine" id="cb14-22" data-line-number="22">           7L,   <span class="st">"Male"</span>   , <span class="st">"White"</span>          ,  <span class="st">"Not Hispanic or Latino"</span>   ,</a>
<a class="sourceLine" id="cb14-23" data-line-number="23">           8L,   <span class="st">"Male"</span>   , <span class="st">"White"</span>          ,  <span class="st">"Not Hispanic or Latino"</span>        </a>
<a class="sourceLine" id="cb14-24" data-line-number="24">)</a>
<a class="sourceLine" id="cb14-25" data-line-number="25"></a>
<a class="sourceLine" id="cb14-26" data-line-number="26"><span class="kw"><a href="../reference/table_nih_enrollment.html">table_nih_enrollment_pretty</a></span>(</a>
<a class="sourceLine" id="cb14-27" data-line-number="27">  <span class="dt">d               =</span> ds_<span class="dv">3</span>,</a>
<a class="sourceLine" id="cb14-28" data-line-number="28">  <span class="dt">d_lu_race       =</span> ds_lu_race_<span class="dv">3</span></a>
<a class="sourceLine" id="cb14-29" data-line-number="29">)</a></code></pre></div>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="border-bottom:hidden" colspan="1">
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="9">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px;">
Ethnic Categories
</div>
</th>
</tr>
<tr>
<th style="border-bottom:hidden" colspan="1">
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="3">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px;">
Not Hispanic or Latino
</div>
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="3">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px;">
Hispanic or Latino
</div>
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="3">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px;">
Unknown/Not Reported Ethnicity
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
Racial Categories
</th>
<th style="text-align:right;">
Female
</th>
<th style="text-align:right;">
Male
</th>
<th style="text-align:right;">
Unknown/<br>Not Reported
</th>
<th style="text-align:right;">
Female
</th>
<th style="text-align:right;">
Male
</th>
<th style="text-align:right;">
Unknown/<br>Not Reported
</th>
<th style="text-align:right;">
Female
</th>
<th style="text-align:right;">
Male
</th>
<th style="text-align:right;">
Unknown/<br>Not Reported
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;border-right:1px solid;">
American Indian/Alaska Native
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;">
Asian
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;">
Native Hawaiian or Other Pacific Islander
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;">
Black or African American
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;">
White
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;">
More than One Race
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;border-right:1px solid;">
Unknown or Not Reported
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;border-right:1px solid;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</div>
<div id="feedback-welcome" class="section level1">
<h1 class="hasAnchor">
<a href="#feedback-welcome" class="anchor"></a>Feedback Welcome</h1>
<p>Please share your opinions with us by creating an issue at <a href="https://github.com/OuhscBbmc/codified/issues" class="uri">https://github.com/OuhscBbmc/codified/issues</a>.</p>
<p><strong>Upcoming Features</strong></p>
<ol style="list-style-type: decimal">
<li>Create tables in a fresh docx file with <a href="https://davidgohel.github.io/flextable/">flextable</a>. <a href="https://github.com/OuhscBbmc/codified/issues/5">Issue #5</a>
</li>
<li>Create tables in a fresh pdf file <a href="https://github.com/OuhscBbmc/codified/issues/5">Issue #5</a>.</li>
<li>Populate tables in an existing pdf file with <a href="https://CRAN.R-project.org/package=staplr">staplr</a>?</li>
<li>The â€˜totalsâ€™ column &amp; row are calculated. The NIH form does this already, so this is mostly for the purpose of checking. <a href="https://github.com/OuhscBbmc/codified/issues/4">Issue #4</a>.</li>
<li>Allow variable namesto change (eg, <code>Gender</code> instead of <code>gender</code>). <a href="https://github.com/OuhscBbmc/codified/issues/3">Issue #3</a>.</li>
<li>
<a href="http://pkgdown.r-lib.org/">pkgdown site</a>, like <a href="https://ouhscbbmc.github.io/REDCapR/">REDCapR</a>.</li>
</ol>
<p><strong>Group discussion</strong></p>
<ul>
<li>Any holes in the functionality or concept?</li>
<li>What else (<em>e.g.</em>, features or explanation) do you think would be helpful?</li>
<li>Are people able to run this package? Is the vignette clear?</li>
<li>What other standardized tables/graphs/whatever could this be applied to?
<ul>
<li>IRB continuation tables?</li>
<li>Graphs?</li>
</ul>
</li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#install-codified-package">Install <code>codified</code> Package</a></li>
      <li>
<a href="#local-data-source">Local Data Source</a><ul class="nav nav-pills nav-stacked">
<li><a href="#establish-datasets">Establish Datasets</a></li>
      <li><a href="#apply-map-to-observed-dataset">Apply Map to Observed Dataset</a></li>
      <li><a href="#conform-to-nih-cosmetics">Conform to NIH Cosmetics</a></li>
      </ul>
</li>
      <li>
<a href="#redcap-data-source">REDCap Data Source</a><ul class="nav nav-pills nav-stacked">
<li><a href="#establish-datasets-1">Establish Datasets</a></li>
      <li><a href="#conform-to-nih-cosmetics-1">Conform to NIH Cosmetics</a></li>
      </ul>
</li>
      <li><a href="#collapsing-levels">Collapsing Levels</a></li>
      <li><a href="#feedback-welcome">Feedback Welcome</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Will Beasley.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
